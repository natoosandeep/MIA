<style>
.ta_center {
	text-align: center;
}

.prev, .next {
	cursor: pointer;
}

/* Global CSS, you probably don't need that */
.clearfix:after {
	clear: both;
	content: "";
	display: block;
	height: 0;
}

canvas {
	margin: 10px 0px;
}

a, a:active {
	color: #da9100;;
	text-decoration: none;
}

a:hover {
	color: #999;
}

/* Breadcrups CSS */
.arrow-steps .step {
	font-size: 14px;
	text-align: center;
	color: #666;
	cursor: default;
	margin: 3px 3px;
	padding: 5px 10px 10px 30px;
	min-width: 180px;
	float: left;
	position: relative;
	background-color: #d9e3f7;
	-webkit-user-select: none;
	-moz-user-select: none;
	-ms-user-select: none;
	user-select: none;
	transition: background-color 0.2s ease;
}

.arrow-steps .step:after, .arrow-steps .step:before {
	content: " ";
	position: absolute;
	top: 0;
	right: -17px;
	width: 0;
	height: 0;
	border-top: 19px solid transparent;
	border-bottom: 17px solid transparent;
	border-left: 17px solid #d9e3f7;
	z-index: 2;
	transition: border-color 0.2s ease;
}

.arrow-steps .step:before {
	right: auto;
	left: 0;
	border-left: 17px solid #fff;
	z-index: 0;
}

.arrow-steps .step:first-child:before {
	border: none;
}

.arrow-steps .step:first-child {
	border-top-left-radius: 4px;
	border-bottom-left-radius: 4px;
}

.arrow-steps .step span {
	position: relative;
}

.arrow-steps .step span:before {
	opacity: 0;
	content: "✔";
	position: absolute;
	top: -2px;
	left: -20px;
}

.arrow-steps .step.done span:before {
	opacity: 1;
	-webkit-transition: opacity 0.3s ease 0.5s;
	-moz-transition: opacity 0.3s ease 0.5s;
	-ms-transition: opacity 0.3s ease 0.5s;
	transition: opacity 0.3s ease 0.5s;
}

.arrow-steps .step.current {
	color: #fff;
	background-color: #23468c;
}

.arrow-steps .step.current:after {
	border-left: 17px solid #23468c;
}

body {
	background-color: #eceeef;
}

#preloader {
	position: fixed;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
}

#loader {
	display: block;
	position: relative;
	left: 50%;
	top: 50%;
	width: 150px;
	height: 150px;
	margin: -75px 0 0 -75px;
	border-radius: 50%;
	border: 3px solid transparent;
	border-top-color: #9370DB;
	-webkit-animation: spin 2s linear infinite;
	animation: spin 2s linear infinite;
}

#loader:before {
	content: "";
	position: absolute;
	top: 5px;
	left: 5px;
	right: 5px;
	bottom: 5px;
	border-radius: 50%;
	border: 3px solid transparent;
	border-top-color: #BA55D3;
	-webkit-animation: spin 3s linear infinite;
	animation: spin 3s linear infinite;
}

#loader:after {
	content: "";
	position: absolute;
	top: 15px;
	left: 15px;
	right: 15px;
	bottom: 15px;
	border-radius: 50%;
	border: 3px solid transparent;
	border-top-color: #FF00FF;
	-webkit-animation: spin 1.5s linear infinite;
	animation: spin 1.5s linear infinite;
}

@
-webkit-keyframes spin { 0% {
	-webkit-transform: rotate(0deg);
	-ms-transform: rotate(0deg);
	transform: rotate(0deg);
}

100%
{
-webkit-transform
:
 
rotate
(360deg);

        
-ms-transform
:
 
rotate
(360deg);

        
transform
:
 
rotate
(360deg);

    
}
}
@
keyframes spin { 0% {
	-webkit-transform: rotate(0deg);
	-ms-transform: rotate(0deg);
	transform: rotate(0deg);
}
100%
{
-webkit-transform
:
 
rotate
(360deg);

        
-ms-transform
:
 
rotate
(360deg);

        
transform
:
 
rotate
(360deg);

    
}
}
</style>
<div ng-include="'template/blocks/header.html'"></div>
<div class="wrapper">
	<div class="container">

		<div class="row">
			<div class="col-md-12">
				<h4 class="page-title text-uppercase">
					<!-- Anomaly -->
				</h4>
			</div>
		</div>

		<div class="row">
			<div class="col-md-12">
				<div class="card-box">
					<div>
						<div class="arrow-steps clearfix row">
							<div class="col-md-1 col-sm-1"></div>
							<div class="step current col-md-2 col-sm-2 col-xs-12"
								id="uploadCSV">
								<span> Upload CSV </span>
							</div>
							<div class="step col-md-3 col-sm-3 col-xs-12" id="dataCleaning">
								<span> Input Data Analysis </span>
							</div>
							<div class="step col-md-3 col-sm-3 col-xs-12" id="applyingModel">
								<span> Applying Model </span>
							</div>
							<div class="step col-md-2 col-sm-2 col-xs-12" id="anomalyResult">
								<span> Result </span>
							</div>
							<div class="col-md-1 col-sm-1"></div>
						</div>

						<div class="Firfx_chrm_csv" ng-if="anomalyCurrentStep == 'uploadCSV'">
							<div class="p-20">
								<div class="form-group clearfix"
									style="display: table-cell; vertical-align: middle;">
									<div class="col-sm-12 padding-left-0 padding-right-0">
										<!-- <input type="file" name="files[]" id="filer_input1"
	                                                     multiple="multiple"> -->
										<button class="btn btn-info"
											ng-click="openAddCSVReportPopup()">Add CSV Data in
											Bulk</button>
									</div>
								</div>
							</div>
						</div>
						<div class="p-20"
							style="top: 49%; left: 0%; text-align: center; display: table; width: 100%;position: absolute;">
							<button class="next btn btn-info disablePhosphorusAnchorSkip"
								ng-click="currentAnomalyStep('next')">Skip Adding CSV
								Data</button>
						</div>
						<div class="Firfx_chrm_data_clen" ng-if="anomalyCurrentStep == 'dataCleaning'">
							<div ng-if="!anomalyDataCleaningList"
								style="min-height: 280px; top: 50%; left: 50%; text-align: center; display: table; width: 100%;">
								<span style="display: table-cell; vertical-align: middle;">
									Data cleaning and normalization taking place. This process may
									take some time. </span>
							</div>
							<div ng-if="anomalyDataCleaningList" class="row">
								<div class="col-md-6 sm-6 col-lg-6 col-xs-12">
									<h5 style="margin: 10px;">
										{{ anomalyDataCleaningList.TABLE_LABELS }}
										</h3>
										<div class="card-box table-responsive"
											style="margin: 20px 0px;">
											<table id="datatable"
												class="table table-striped table-bordered">
												<thead>
													<tr>
														<th rowspan="1">Attribute</th>
														<th rowspan="1">Value</th>
													</tr>

												</thead>

												<tbody>
													<tr
														dir-paginate="data in anomalyDataCleaningList.TABLE_TITLES | itemsPerPage: attendanceItemPerPageCount"
														current-page="attendanceCurrentPage"
														total-items="totalAttendanceCount" class="cursor-pointer"
														pagination-id="attendance">
														<td>{{anomalyDataCleaningList.TABLE_TITLES[$index]}}</td>
														<td>{{anomalyDataCleaningList.TABLE_VALUES[$index]}}</td>
													</tr>
												</tbody>
											</table>
										</div>
								</div>
								<div class="col-md-6 sm-6 col-lg-6 col-xs-12">
									<h5 style="margin: 10px;">
										{{ anomalyDataCleaningList.PIE_CHART_LABELS }}
										</h3>
										<div class="anomaly-chart-container">
											<canvas id="pie" class="chart chart-pie"
												chart-data="anomalyDataCleaningList.PIE_CHART_VALUES"
												chart-labels="anomalyDataCleaningList.PIE_CHART_TITLES"
												chart-options="dataCleaningOptions" width="400" height="150">
												</canvas>
										</div>
								</div>
							</div>


						</div>

						<div class="Firfx_chrm_aply_mdl" ng-if="anomalyCurrentStep == 'applyingModel'">
							<div
								style="min-height: 280px; top: 50%; left: 50%; text-align: center; display: table; width: 100%;">
								<div class="col-xs-6"></div>
								<div class="col-xs-6"></div>
								<div class="col-xs-6"></div>
								<div class="col-xs-6"></div>
								<div class="col-xs-3"></div>
								<span
									style="display: table-cell; vertical-align: middle; text-align: center; position: static">
									<div id="preloader">
										<div id="loader"></div>
									</div>
								</span>
							</div>
						</div>
						<div class="anomalyFilter"
							ng-if="anomalyCurrentStep == 'anomalyResult'"
							style="margin: 10px;">
							<p style="display: -webkit-inline-box; margin: 0px 10px;">
								Total records: <strong>{{anomalyResultDataListDetails[0].chartLabel.length}}</strong>
							</p>
							Start count: <input type="number" class="form-control"
								ng-model="startCount" placeholder="Start count"
								style="width: auto; display: -webkit-inline-box;"
								onkeypress="return isNumber(event)"> 
							End count: <input
								type="number" class="form-control" ng-model="endCount"
								placeholder="Max count {{anomalyResultDataListDetails[0].chartLabel.length}}"
								style="width: auto; display: -webkit-inline-box;"
								onkeypress="return isNumber(event)"> <select
								class="form-control" ng-model="selectedChart"
								ng-options="chart for chart in charts"
								style="width: auto; display: -webkit-inline-box;">
								<option value="" disabled selected>Select Chart</option>
							</select>
							<button class="btn btn-info"
								ng-click="anomalyResultChartReports(startCount,endCount,selectedChart)">Find
								Anomaly</button>
							<button class="btn btn-info"
								ng-click="resetFilter()">Reset Filter</button>
						</div>
						<div ng-if="anomalyCurrentStep == 'anomalyResult'"
							class="anomaly-chart-container"
							ng-repeat="data in anomalyResultDataListDetails">
							<h3 class="ta_center">{{data.chartTitle}}</h3>
							<canvas class="chart chart-bar" chart-data="data.chartData"
								chart-labels="data.chartLabel" chart-options="options"
								chart-series="series" chart-colors="colors" width="400"
								height="150"></canvas>
							<!--                   					<canvas id="bar-chart" width="800" height="450"></canvas> -->
						</div>
						<div ng-if="isAnomalyListEmpty">
							<h3>{{ isAnomalyListEmpty }}</h3>
						</div>
						<div class="nav clearfix" style="display: inline-flex;">
							<div id="prev" style="padding-right: 480px;">
								<a class="prev btn btn-primary btn-rounded disableAnomalyAnchor"
									ng-click="currentAnomalyStep('prev')">Previous</a>
							</div>
							<div id="nxt" style="padding-left: 495px;">
								<a
									class="next pull-right btn btn-primary btn-rounded disableAnomalyAnchor"
									ng-click="currentAnomalyStep('next')">Next</a>
							</div>
							<div ng-if="anomalyCurrentStep == 'anomalyResult'" id="finish"
								style="padding-left: 505px;">
								<a
									class="next pull-right btn btn-primary btn-rounded disableAnomalyFinishAnchor"
									ng-click="gotoDashboard()">Finish</a>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<footer class="footer text-right">
			<div class="container">
				<div class="row">
					<div class="col-xs-12">2018 © MLP</div>
				</div>
			</div>
		</footer>

	</div>
	<!-- container -->
</div>
<!-- wrapper -->



<script>
          jQuery( document ).ready(function() {
      		
      		var back =jQuery(".prev");
      		var	next = jQuery(".next");
      		var	steps = jQuery(".step");
      		
      		next.bind("click", function() { 
      			jQuery.each( steps, function( i ) {
      				if (!jQuery(steps[i]).hasClass('current') && !jQuery(steps[i]).hasClass('done')) {
      					jQuery(steps[i]).addClass('current');
      					jQuery(steps[i - 1]).removeClass('current').addClass('done');
      					return false;
      				}
      			})		
      		});
      		back.bind("click", function() { 
      			jQuery.each( steps, function( i ) {
      				if (jQuery(steps[i]).hasClass('done') && jQuery(steps[i + 1]).hasClass('current')) {
      					jQuery(steps[i + 1]).removeClass('current');
      					jQuery(steps[i]).removeClass('done').addClass('current');
      					return false;
      				}
      			})		
      		});

      	})
   	</script>